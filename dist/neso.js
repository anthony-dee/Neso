!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Neso=e():t.Neso=e()}(self,(function(){return function(){"use strict";var t={d:function(e,i){for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Carousel:function(){return s},NavBar:function(){return i}});class i{constructor(t){this.navBar=t,this.navBar.classList.remove("no-js"),this.menu=this.navBar.querySelector(".nav-main"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.currentMenuButton=!1,this.registerListeners()}registerListeners(){this.navBar.addEventListener("click",(t=>{if(t.target.closest(".nav-menu-toggle")&&this.toggleBtnClick(t),t.target.closest(".nav-dropdown-toggle")){const e=t.target;this.currentMenuButton&&this.currentMenuButton!==e&&this.toggleDropdown(this.currentMenuButton),this.toggleDropdown(e)}}),!1),document.addEventListener("click",(t=>{this.closeOpenMenu(t)}))}closeOpenMenu(t){this.currentMenuButton&&!t.target.closest(".nav-list-dropdown")&&(console.log("closing from document click"),this.toggleDropdown(this.currentMenuButton))}toggleDropdown(t){console.log(t);const e=document.getElementById(t.getAttribute("aria-controls"));"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded",!1),e.setAttribute("aria-hidden",!0),this.currentMenuButton=!1):(t.setAttribute("aria-expanded",!0),e.setAttribute("aria-hidden",!1),this.currentMenuButton=t)}toggleBtnClick(t){t.preventDefault(),this.isClosing||!this.isNavMenuOpen?this.openMenu():(this.isExpanding||this.isNavMenuOpen)&&this.closeMenu()}closeMenu(){this.isClosing=!0;const t=`${this.menu.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.menu.animate({height:[t,"0px"],opacity:[1,0]},{duration:400,easing:"ease-out"}),this.menu.style.height="0px",this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}openMenu(){this.isNavMenuOpen=!0,window.requestAnimationFrame((()=>this.expand()))}expand(){this.isExpanding=!0;const t=`${this.menu.querySelector(".nav-list").offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.menu.animate({height:["0px",t],opacity:[0,1]},{duration:400,easing:"ease-out"}),this.menu.style.height=t,this.menu.style.opacity=1,this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.isNavMenuOpen=t,this.menu.classList.toggle("menu-open",t),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.isNavMenuOpen&&(this.menu.style.height="auto")}}class s{constructor(t){this.carousel=t,this.currentItem=0,this.items=this.carousel.querySelectorAll(".carousel-item"),this.track=this.carousel.querySelector(".carousel-track"),this.indicators=this.carousel.querySelectorAll(".carousel-indicator"),this.registerListeners()}registerListeners(){this.carousel.addEventListener("click",(t=>{t.target.matches(".carousel-indicator")&&(this.pause(),this.slideTo(t.target.getAttribute("data-slide-to")),this.play()),t.target.closest(".carousel-prev")&&(this.pause(),this.slideTo(this.getPreviousItem()),this.play()),t.target.closest(".carousel-next")&&(this.pause(),this.slideTo(this.getNextItem()),this.play())})),window.onresize=()=>{this.track.scrollLeft=this.calculateTrackScrollLeft()}}slideTo(t){this.setCurrentItem(t),this.track.scrollTo({behavior:"smooth",top:0,left:this.calculateTrackScrollLeft()}),this.indicators.forEach(((t,e)=>{t.classList.contains("active")&&t.classList.remove("active"),this.currentItem==e&&t.classList.add("active")}))}play(){this.interval=setInterval((()=>{this.slideTo(this.getNextItem())}),5e3)}pause(){clearInterval(this.interval)}setCurrentItem(t){this.currentItem=parseInt(t)}calculateTrackScrollLeft(){return Math.floor(this.track.scrollWidth*(this.currentItem/this.items.length))}getNextItem(){return this.currentItem===this.items.length-1?0:this.currentItem+1}getPreviousItem(){return 0===this.currentItem?this.items.length-1:this.currentItem-1}}return e}()}));
//# sourceMappingURL=neso.js.map