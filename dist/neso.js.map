{"version":3,"sources":["webpack://Neso/webpack/universalModuleDefinition","webpack://Neso/webpack/bootstrap","webpack://Neso/webpack/runtime/define property getters","webpack://Neso/webpack/runtime/hasOwnProperty shorthand","webpack://Neso/webpack/runtime/make namespace object","webpack://Neso/./src/js/classes/navBar.js"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","NavBar","constructor","navBar","this","classList","remove","menuToggle","querySelector","menu","window","innerWidth","setAttribute","prefersReducedMotion","matchMedia","matches","transitionTime","setMenuHeight","setNavHeightCSSVar","easing","animation","isNavMenuOpen","isClosing","isExpanding","currentMenuButton","registerListeners","calculateOpenMenuHeight","setAriaAttributes","addEventListener","event","target","closest","getAttribute","toggleMainMenu","button","toggleDropdown","document","e","closeOpenMenu","removeAttribute","style","height","querySelectorAll","forEach","dropdown","toggle","getElementById","preventDefault","openMenu","closeMenu","startHeight","offsetHeight","cancel","animate","duration","onfinish","onAnimationFinish","oncancel","requestAnimationFrame","expand","endHeight","menuHeight","getMenuHeight","i","children","length","documentElement","setProperty"],"mappings":"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","file":"neso.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Neso\"] = factory();\n\telse\n\t\troot[\"Neso\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../../scss/_partials/_navbar.scss';\r\n\r\nexport default class NavBar {\r\n\r\n    constructor(navBar) {\r\n        this.navBar = navBar;\r\n        this.navBar.classList.remove('no-js');\r\n        this.menuToggle = this.navBar.querySelector('.nav-menu-toggle');\r\n        this.menu = this.navBar.querySelector('.nav-main-menu');\r\n\r\n        if (window.innerWidth >= 768) {\r\n            this.menu.setAttribute('aria-hidden', 'false');\r\n        }\r\n\r\n        this.prefersReducedMotion = window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n        this.transitionTime = this.prefersReducedMotion ? 10 : 400;\r\n        this.setMenuHeight();\r\n        this.setNavHeightCSSVar();\r\n\r\n        this.easing = 'ease';\r\n        this.animation = null;\r\n        this.isNavMenuOpen = false;\r\n        this.isClosing = false;\r\n        this.isExpanding = false;\r\n        this.currentMenuButton = false;\r\n        this.registerListeners();\r\n        this.calculateOpenMenuHeight();\r\n        this.setAriaAttributes();\r\n    }\r\n\r\n    registerListeners() {\r\n        this.navBar.addEventListener('click', (event) => {\r\n            if (event.target.closest('.nav-menu-toggle')) {\r\n                const menuWasClosed = this.menuToggle.getAttribute('aria-expanded') === 'false';\r\n\r\n                if (menuWasClosed) {\r\n                    this.menuToggle.setAttribute('aria-expanded', 'true');\r\n                    this.menu.setAttribute('aria-hidden', 'false');\r\n                } else {\r\n                    this.menuToggle.setAttribute('aria-expanded', 'false');\r\n                    this.menu.setAttribute('aria-hidden', 'true');\r\n                }\r\n\r\n                this.toggleMainMenu(event);\r\n            }\r\n\r\n            if (event.target.closest('.nav-dropdown-toggle')) {\r\n                const button = event.target.closest('.nav-dropdown-toggle');\r\n\r\n                // close an open dropdown if there is one\r\n                if (this.currentMenuButton && this.currentMenuButton !== button) {\r\n                    this.toggleDropdown(this.currentMenuButton);\r\n                }\r\n\r\n                this.toggleDropdown(button);\r\n            }\r\n        }, false);\r\n\r\n        document.addEventListener('click', (e) => {\r\n            this.closeOpenMenu(e);\r\n        });\r\n\r\n        window.addEventListener('resize', () => {\r\n            if (window.innerWidth >= 768) {\r\n                this.menuToggle.setAttribute('aria-expanded', 'true');\r\n                this.menu.setAttribute('aria-hidden', 'false');\r\n                this.menu.removeAttribute('style');\r\n            } else {\r\n                if (!this.isNavMenuOpen) {\r\n                    this.menuToggle.setAttribute('aria-expanded', 'false');\r\n                    this.menu.setAttribute('aria-hidden', 'true');\r\n                } else {\r\n                    this.menu.style.height = 'auto';\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    setAriaAttributes() {\r\n        this.navBar.setAttribute('aria-label', 'Site Navigation Menu');\r\n        if (window.innerWidth >= 768) {\r\n            this.menuToggle.setAttribute('aria-expanded', 'true');\r\n            this.menu.setAttribute('aria-hidden', 'false');\r\n        } else {\r\n            this.menuToggle.setAttribute('aria-expanded', 'false');\r\n            this.menu.setAttribute('aria-hidden', 'true');\r\n        }\r\n        this.menuToggle.setAttribute('aria-controls', this.menu.getAttribute('id'))\r\n\r\n        this.navBar\r\n            .querySelectorAll('.nav-list-dropdown')\r\n            .forEach((dropdown) => {\r\n                let toggle = dropdown.querySelector('.nav-dropdown-toggle');\r\n                let menu = dropdown.querySelector('.nav-dropdown');\r\n                toggle.setAttribute('aria-controls', menu.getAttribute('id'));\r\n                toggle.setAttribute('aria-expanded', 'false');\r\n                menu.setAttribute('aria-hidden', 'true');\r\n        })\r\n    }\r\n\r\n    closeOpenMenu(e) {\r\n        if (this.currentMenuButton && !e.target.closest('.nav-list-dropdown')) {\r\n            this.toggleDropdown(this.currentMenuButton);\r\n        }\r\n    }\r\n\r\n    toggleDropdown(button) {\r\n        const dropdown = document.getElementById(button.getAttribute('aria-controls'));\r\n        if ('true' === button.getAttribute('aria-expanded')) {\r\n            button.setAttribute('aria-expanded', 'false');\r\n            dropdown.setAttribute('aria-hidden', 'true')\r\n            this.currentMenuButton = false;\r\n        } else {\r\n            button.setAttribute('aria-expanded', 'true');\r\n            dropdown.setAttribute('aria-hidden', 'false')\r\n            this.currentMenuButton = button;\r\n        }\r\n    }\r\n\r\n// Function called when user clicks on the nav menu toggle\r\n    toggleMainMenu(event) {\r\n        event.preventDefault();\r\n\r\n        if (this.isClosing || !this.isNavMenuOpen) {\r\n            this.openMenu();\r\n        } else if (this.isExpanding || this.isNavMenuOpen) {\r\n            this.closeMenu();\r\n        }\r\n    }\r\n\r\n    closeMenu() {\r\n        this.isClosing = true;\r\n        const startHeight = `${this.menu.offsetHeight}px`;\r\n        const endHeight = '0px';\r\n\r\n        if (this.animation) {\r\n            this.animation.cancel();\r\n        }\r\n\r\n        this.animation = this.menu.animate({\r\n            height: [startHeight, endHeight]\r\n        }, {\r\n            duration: this.transitionTime, easing: this.easing\r\n        });\r\n\r\n        this.menu.style.height = endHeight;\r\n        this.animation.onfinish = () => this.onAnimationFinish(false);\r\n        this.animation.oncancel = () => this.isClosing = false;\r\n    }\r\n\r\n// Function called to open the element after click\r\n    openMenu() {\r\n        this.isNavMenuOpen = true;\r\n        window.requestAnimationFrame(() => this.expand());\r\n    }\r\n\r\n// Function called to expand the content with an animation\r\n    expand() {\r\n        this.setMenuHeight();\r\n        this.setNavHeightCSSVar();\r\n        this.isExpanding = true;\r\n        const startHeight = `0px`;\r\n        const endHeight = `${this.menuHeight}px`;\r\n\r\n        if (this.animation) {\r\n            this.animation.cancel();\r\n        }\r\n\r\n        this.animation = this.menu.animate({\r\n            height: [startHeight, endHeight]\r\n        }, {\r\n            duration: this.transitionTime, easing: this.easing\r\n        });\r\n\r\n        this.menu.style.height = endHeight;\r\n        this.animation.onfinish = () => this.onAnimationFinish(true);\r\n        this.animation.oncancel = () => this.isExpanding = false;\r\n    }\r\n\r\n// Callback when the shrink or expand animations are done\r\n    onAnimationFinish(isNavMenuOpen) {\r\n        this.isNavMenuOpen = isNavMenuOpen;\r\n        this.menu.classList.toggle('menu-open', this.isNavMenuOpen);\r\n        this.animation = null;\r\n        this.isClosing = false;\r\n        this.isExpanding = false;\r\n\r\n        if (this.isNavMenuOpen) {\r\n            this.menu.style.height = 'auto';\r\n        }\r\n    }\r\n\r\n    getMenuHeight() {\r\n        return this.menuHeight;\r\n    }\r\n\r\n    setMenuHeight() {\r\n        this.menuHeight = this.calculateOpenMenuHeight();\r\n    }\r\n\r\n    calculateOpenMenuHeight() {\r\n        let height = 0;\r\n\r\n        for (let i = 0; i < this.menu.children.length; i++) {\r\n            height += this.menu.children[i].offsetHeight;\r\n        }\r\n\r\n        return height;\r\n    }\r\n\r\n    setNavHeightCSSVar() {\r\n        document.documentElement.style.setProperty('--nav-height', `${this.getMenuHeight()}px`);\r\n    }\r\n}\r\n"],"sourceRoot":""}